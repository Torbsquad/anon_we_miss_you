<script src="/axios.js"></script>
<div id="mainContainer"></div>
<script>
  let mainContainer = document.getElementById('mainContainer')
  function _arrayBufferToBase64(buffer) {
    var binary = ''
    var bytes = new Uint8Array(buffer)
    var len = bytes.byteLength
    for (var i = 0; i < len; i++) {
      binary += String.fromCharCode(bytes[i])
    }
    return window.btoa(binary)
  }
  async function main() {
    let e = await axios.get('https://api.vnft.cc/twitter/followers2')
    for (let data of e.data) {
      var entry = document.createElement('div')
      var content = document.createElement('pre')
      var image = document.createElement('img')
      image.src = 'data:image/png;base64,' + _arrayBufferToBase64(data.picture.data)

      let imagelessData = data
      delete imagelessData.picture
      content.innerHTML = JSON.stringify(imagelessData,null,2)

      entry.appendChild(image)
      entry.appendChild(content)
      mainContainer.appendChild(entry)
    }
    console.log(e)
  }
  main()
</script>
