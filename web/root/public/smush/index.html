<link href="./style.css" rel="stylesheet" type="text/css" />
<div class="mainContainer">
  <div class="containertitle">Starters</div>
  <div class="stageContainer" id="starters" style="overflow:hidden"></div>
  <br />
  <div class="containertitle">Counterpicks</div>
  <div class="stageContainer" id="counterpicks" style="overflow:hidden"></div>

  <input type="button" value="Reset Strikes" class="resetbutton" onclick="javascript:RESET()" />
</div>

<pre style="font-family:Arial, Helvetica, sans-serif">
    Match 1:
    Spieler 1 stiked eine starter-stage
    Spieler 2 striked zwei starter-stages
    Spieler 1 straked eine starter-stage
    übrige starter-stage wird gespielt

    Match 2+:
    Sieger striked insgesammt 3 von den 10 starter+counterpick stages
    Verlierer wählt eine Stage aus
</pre>

<script>
  STAGES = []
  RESET = () => STAGES.map(e => e.unstrike())

  class Stage {
    constructor(name, path, parent) {
      STAGES.push(this)
      let el = document.getElementById(parent)
      let stage = document.createElement('div')
      stage.className = 'stage'
      let img = document.createElement('img')
      img.src = path
      let stageTitle = document.createElement('div')
      stageTitle.className = 'stageTitle'

      this.strike = document.createElement('img')
      this.strike.style.position = 'absolute'
      this.strike.src = './strike.png'
      this.unstrike()

      this.strike.onclick = function() {
        this.style.opacity = '1'
      }

      stageTitle.innerHTML = '</br>' + name
      stage.appendChild(this.strike)
      stage.appendChild(img)
      stage.appendChild(stageTitle)
      el.appendChild(stage)
    }
    strike() {
      this.strike.style.opacity = '1'
    }
    unstrike() {
      this.strike.style.opacity = '0'
    }
  }

  new Stage('Battlefield', './battlefield.png', 'starters')
  new Stage('Final Destination', './finaldestination.png', 'starters')
  new Stage('Smashville', './smashville.png', 'starters')
  new Stage('Pokemon Stadium 2', './ps2.png', 'starters')
  new Stage('Town & City', './townandcity.png', 'starters')

  new Stage('Kalos Pokémon League', './kalos.png', 'counterpicks')
  new Stage('Yoshi´s Story', './yoshis island.png', 'counterpicks')
  new Stage('Lylat Cruise', './lylat cruise.png', 'counterpicks')
  new Stage('Yoshi´s Island: Brawl', './yoshis island brawl.png', 'counterpicks')
  new Stage('Yggdrasil´s Altar', './yggas altar.png', 'counterpicks')
</script>
