<html>
  <head>
    <title>yeet</title>
    <script src="/axios.js"></script>
  </head>
  <body onload="javascript:main()">
    <div id="mainContainer"></div>
    <table id="mainTable" border="1"></table>
    <script>
      const mainContainer = document.getElementById('mainContainer')
      const mainTable = document.getElementById("mainTable")
      async function main() {
        let coffee = await axios.get('https://api.vnft.cc/nazrin/coffee')
        let coffeeData = coffee.data
        
        let headLine = document.createElement("tr")
        let topLeft = document.createElement("td")
        headLine.appendChild(topLeft)
        for( let channel of coffeeData.rights ){
          let name = document.createElement("td")
          name.innerHTML = channel.name
          headLine.appendChild(name)
        }
        mainTable.appendChild(headLine)

        for( let member of coffeeData.members ){
          let row = document.createElement("tr")
          let name = document.createElement("td")
          name.innerHTML = member
          row.appendChild(name)
          for( let channel of coffeeData.rights ){
            let cell = document.createElement("td")
            cell.innerHTML = channel.name + " <br />x<br /> " + member
            row.appendChild(cell)
          }
          mainTable.appendChild(row)
        }

      }
    </script>
  </body>
</html>
