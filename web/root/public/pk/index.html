<style>
  html,
  body {
    background: black;
    color: white;
    font-family: Arial, Helvetica, sans-serif;
  }
</style>

<table id="effectivity" border="1"></table>

<script>
  var effectivityTable = document.getElementById('effectivity')

  // effectivity.attack.defend

  effectivity = {}

  types = [
    'Normal',
    'Fire',
    'Water',
    'Electric',
    'Grass',
    'Ice',
    'Fighting',
    'Poison',
    'Ground',
    'Flying',
    'Psychic',
    'Bug',
    'Rock',
    'Ghost',
    'Dragon',
    'Dark',
    'Steel',
    'Fairy',
  ]

  effectmap = [
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 2, 2, 1, 2],
    [2, 1, 1, 2, 4, 4, 2, 2, 2, 2, 2, 4, 1, 2, 1, 2, 4, 2],
    [2, 4, 1, 2, 1, 2, 2, 2, 4, 2, 2, 2, 4, 2, 1, 2, 2, 2],
    [2, 2, 4, 1, 1, 2, 2, 2, 0, 4, 2, 2, 2, 2, 1, 2, 2, 2],
    [2, 1, 4, 2, 1, 2, 2, 1, 4, 1, 2, 1, 4, 2, 1, 2, 1, 2],
    [2, 1, 1, 2, 4, 1, 2, 2, 4, 4, 2, 2, 2, 2, 4, 2, 1, 2],
    [4, 2, 2, 2, 2, 4, 2, 1, 2, 1, 1, 1, 4, 0, 2, 4, 4, 1],
    [2, 2, 2, 2, 4, 2, 2, 1, 1, 2, 2, 2, 1, 1, 2, 2, 0, 4],
    [2, 4, 2, 4, 1, 2, 2, 4, 2, 0, 2, 1, 4, 2, 2, 2, 4, 2],
    [2, 2, 2, 1, 4, 2, 4, 2, 2, 2, 2, 4, 1, 2, 2, 2, 1, 2],
    [2, 2, 2, 2, 2, 2, 4, 4, 2, 2, 1, 2, 2, 2, 2, 0, 1, 2],
    [2, 1, 2, 2, 4, 2, 1, 1, 2, 1, 4, 2, 2, 1, 2, 4, 1, 1],
    [2, 4, 2, 2, 2, 4, 1, 2, 1, 4, 2, 4, 2, 2, 2, 2, 1, 2],
    [0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 2, 2, 4, 2, 1, 2, 2],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 2, 1, 0],
    [2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 4, 2, 2, 4, 2, 1, 2, 1],
    [2, 1, 1, 1, 2, 4, 2, 2, 2, 2, 2, 2, 4, 2, 2, 2, 1, 4],
    [2, 1, 2, 2, 2, 2, 4, 1, 2, 2, 2, 2, 2, 2, 4, 4, 1, 2],
  ].map(e => e.map(f => f / 2))

  effectcolor = {
    "0": "grey",
    "0.5": "red",
    "1": "yellow",
    "2": "green"
  }
  
  for (var attackIndex in types) {
    var attackType = types[attackIndex]
    effectivity[attackType] = {}
    for (var defendIndex in types) {
      let defendType = types[defendIndex]
      effectivity[attackType][defendType] = effectmap[attackIndex][defendIndex]
    }
  }

  // defenders names; the very first row of table
  var row = document.createElement('tr')
  let cell = document.createElement('td')
  row.appendChild(cell)
  for (let defender in effectivity) {
    let cell = document.createElement('td')
    cell.innerHTML = defender
    row.appendChild(cell)
  }
  effectivityTable.appendChild(row)

  for (var attacker in effectivity) {
    // attackers names; the first cell of the row
    var row = document.createElement('tr')
    let cell = document.createElement('td')
    cell.innerHTML = attacker
    row.appendChild(cell)

    // 0, 0.5, 1, 2 of the tables; the effectivity of attacker to defender
    for (var defender in effectivity) {
      let effect = effectivity[attacker][defender]
      let cell = document.createElement('td')
      cell.style.background = effectcolor[effect]
      cell.innerHTML = effect
      row.appendChild(cell)
    }

    effectivityTable.appendChild(row)
  }

  console.log(effectivity)
</script>
